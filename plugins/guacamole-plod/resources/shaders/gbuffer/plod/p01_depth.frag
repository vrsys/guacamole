@include "common/header.glsl"

//layout(early_fragment_tests) in;

@include "common/gua_camera_uniforms.glsl"

layout (location = 0) out float out_log_depth_texture;

///////////////////////////////////////////////////////////////////////////////
// input
///////////////////////////////////////////////////////////////////////////////
in VertexData {
  vec2 pass_uv_coords;
  float pass_log_depth;
  float pass_es_linear_depth;
} VertexIn;

///////////////////////////////////////////////////////////////////////////////
// output
///////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////
// main
///////////////////////////////////////////////////////////////////////////////
void main() {
  vec2 uv_coords = VertexIn.pass_uv_coords;

  if( dot(uv_coords, uv_coords) > 1)
    discard;

  out_log_depth_texture = gl_FragCoord.z;
  gl_FragDepth = VertexIn.pass_es_linear_depth;

}

